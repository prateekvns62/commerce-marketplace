"use strict";(self.webpackChunkcommerce_marketplace=self.webpackChunkcommerce_marketplace||[]).push([[1644],{47883:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return s},default:function(){return p}});var a=n(87462),o=n(45987),r=(n(35776),n(3905)),d=n(91515);const i=["components"],s={},m={_frontmatter:s},l=d.Z;function p(e){let{components:t}=e,n=(0,o.Z)(e,i);return(0,r.mdx)(l,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"code-sniffer"},"Code sniffer"),(0,r.mdx)("p",null,"Code sniffer is a static test for extensions that uses static code analysis to detect violations of the ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento-coding-standard"},"Magento Coding Standard")," to prevent common coding errors."),(0,r.mdx)("p",null,"Limited information is displayed in the Quality Report section of the product listing page on the Commerce Marketplace, including the number of errors, warnings, and the coding standards version that was used."),(0,r.mdx)("h2",{id:"what-testing-is-for"},"What testing is for"),(0,r.mdx)("p",null,"Adobe Commerce projects typically use source code from several vendors. By adopting the ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento-coding-standard"},"Magento Coding Standard"),", we solve two problems:"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Identify common coding errors and pitfalls at an early stage before code execution."),(0,r.mdx)("li",{parentName:"ol"},"Standardize and unify the way code is written, so that it can be read easily by developers from different organizations.")),(0,r.mdx)("h2",{id:"when-testing-is-done"},"When testing is done"),(0,r.mdx)("p",null,"Code sniffer is mandatory for extensions of any type. When you submit an extension, Commerce uses code sniffer to analyze the entire code base regardless of the scope of changes. Only extensions that have passed code sniffer testing can be listed in the ",(0,r.mdx)("a",{parentName:"p",href:"https://commercemarketplace.adobe.com"},"Commerce Marketplace"),"."),(0,r.mdx)("h2",{id:"what-is-being-checked"},"What is being checked"),(0,r.mdx)("p",null,"Code sniffer validates that the implementation of the submitted extension adheres to the ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento-coding-standard"},"Magento Coding Standard"),"."),(0,r.mdx)("h2",{id:"tools-and-environments-used"},"Tools and environments used"),(0,r.mdx)("p",null,"The Magento EQP code sniffer is based on the ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/squizlabs/PHP_CodeSniffer"},"PHP_CodeSniffer")," and uses ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento-coding-standard"},"Magento Coding Standard")," as a ruleset."),(0,r.mdx)("p",null,"You can complete code sniffer testing in a development environment by using Composer to install PHPCS and the Magento Coding Standard as a global dependency for a particular project."),(0,r.mdx)("p",null,"You can test an extension to detect violations of the ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento-coding-standard"},"Magento Coding Standard")," using the following ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/squizlabs/PHP_CodeSniffer/blob/master/bin/phpcs"},"PHPCS CLI command"),":"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-bash"},"phpcs --standard=Magento2 --extensions=php,phtml --error-severity=10 --ignore-annotations --report=json --report-file=report.json <path-to-extension>\n")),(0,r.mdx)("p",null,"If PHPCS finds any errors, the extension in ",(0,r.mdx)("inlineCode",{parentName:"p"},"<path-to-extension>")," is rejected."),(0,r.mdx)("h2",{id:"reading-the-error-report"},"Reading the error report"),(0,r.mdx)("p",null,"All detected errors include a description of the problem with references to the locations in the code where the errors were detected."),(0,r.mdx)("p",null,"The Magento Coding Standard evolves continuously and the rules change. You can find the most current version with an up-to-date list of implemented rules in the ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento-coding-standard/blob/develop/Magento2/ruleset.xml"},"Magento Coding Standard GitHub repository"),"."),(0,r.mdx)("p",null,"According to the Magento Coding Standard, code sniffer classifies detected violations in the following type categories:"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Type"),(0,r.mdx)("th",{parentName:"tr",align:null},"Severity"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"Error"),(0,r.mdx)("td",{parentName:"tr",align:null},"10"),(0,r.mdx)("td",{parentName:"tr",align:null},"Critical code issues that indicate a bug or security vulnerability.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"Warning"),(0,r.mdx)("td",{parentName:"tr",align:null},"9"),(0,r.mdx)("td",{parentName:"tr",align:null},"Possible security issues that can cause bugs.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"Warning"),(0,r.mdx)("td",{parentName:"tr",align:null},"8"),(0,r.mdx)("td",{parentName:"tr",align:null},"Magento specific code issues and design violations.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"Warning"),(0,r.mdx)("td",{parentName:"tr",align:null},"7"),(0,r.mdx)("td",{parentName:"tr",align:null},"General code issues.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"Warning"),(0,r.mdx)("td",{parentName:"tr",align:null},"6"),(0,r.mdx)("td",{parentName:"tr",align:null},"Code style issues.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"Warning"),(0,r.mdx)("td",{parentName:"tr",align:null},"5"),(0,r.mdx)("td",{parentName:"tr",align:null},"PHPDoc formatting and commenting issues.")))),(0,r.mdx)("p",null,'Only violations of type "Error" (severity >= 10) prevent a submitted extension from being published on the Commerce Marketplace. Although other reported issues do not block delivery of the extension, we encourage developers to review and fix them.'),(0,r.mdx)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,r.mdx)("p",null,"As a best practice, we recommend that developers include ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/squizlabs/PHP_CodeSniffer"},"PHPCS")," and the ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento-coding-standard"},"Magento Coding Standard")," in their development workflow and CI/CD infrastructure to verify that code complies with the coding standards before submitting to the Commerce Marketplace."),(0,r.mdx)("p",null,"The ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento-coding-standard"},"Magento Coding Standard")," is an open source project. You can report issues or submit pull requests with enhancements directly on GitHub."),(0,r.mdx)("p",null,"We welcome feedback and discussion on the ",(0,r.mdx)("a",{parentName:"p",href:"https://magentocommeng.slack.com/archives/C7SL5CGDN"},"Magento Community Engineering Slack")," #marketplace channel."))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-sellers-code-sniffer-md-6a26d9fd39ceba21840e.js.map